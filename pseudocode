
BEGIN PROGRAM

DISPLAY "Welcome to Greg's Maths Test!"
DISPLAY "Select a difficulty:"
DISPLAY "1) Easy"
DISPLAY "2) Medium"
DISPLAY "3) Hard"

REPEAT
    INPUT choice
    IF choice NOT IN {1, 2, 3} THEN
        DISPLAY "Invalid choice! Enter 1, 2 or 3."
    ELSE
        BREAK
    ENDIF
UNTIL valid choice is entered

IF choice = 1 THEN
    DISPLAY "Easy mode selected!"
    SET min_val = 1, max_val = 10
ELSE IF choice = 2 THEN
    DISPLAY "Medium mode selected!"
    SET min_val = 1, max_val = 20
ELSE
    DISPLAY "Hard mode selected!"
    SET min_val = 1, max_val = 50
ENDIF

SET score = 0
SET results = empty list
SET total_questions = 5

FOR question_number FROM 1 TO total_questions DO
    GENERATE random num1 between min_val and max_val
    GENERATE random num2 between min_val and max_val

    IF question_number = total_questions THEN
        DISPLAY "Challenge question!"
    ENDIF

    DISPLAY "Question {question_number} of {total_questions}"
    DISPLAY "What is num1 - num2?"

    RECORD start_time
    INPUT answer
    CALCULATE response_time = current_time - start_time

    CALCULATE correct_answer = num1 - num2

    IF answer = correct_answer THEN
        IF response_time <= 2 THEN
            points = 8
        ELSE IF response_time <= 4 THEN
            points = 6
        ELSE
            points = 4
        ENDIF
        DISPLAY "Correct! You answered in response_time seconds - points awarded."
    ELSE
        points = 0
        DISPLAY "Incorrect! You answered in response_time seconds - no points awarded."
    ENDIF

    ADD points to score
    STORE (question_number, correct?, response_time) in results
ENDFOR

-- Calculate final statistics
SET correct_count = number of "Yes" answers in results
SET percent_correct = ROUND((correct_count / total_questions) * 100)
SET average_time = ROUND(total response_time / total_questions)

-- Show final results
DISPLAY "Results:"
DISPLAY "Final score: score"
DISPLAY "Correct answers: percent_correct%"
DISPLAY "Average response time: average_time seconds"

DISPLAY "Breakdown:"
DISPLAY "Question   Correct   Time"
FOR each entry IN results DO
    DISPLAY question_number, "Yes/No", response_time
ENDFOR

DISPLAY "Note: The correct answer percentage and average response time should be rounded."

END PROGRAM
